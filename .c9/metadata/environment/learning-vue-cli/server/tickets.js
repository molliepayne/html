{"filter":false,"title":"tickets.js","tooltip":"/learning-vue-cli/server/tickets.js","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":0,"column":0},"end":{"row":51,"column":24},"action":"insert","lines":["const mongoose = require('mongoose');","const express = require(\"express\");","const router = express.Router();","","//","// Tickets","//","","const ticketSchema = new mongoose.Schema({","  name: String,","  problem: String,","});","","const Ticket = mongoose.model('Ticket', ticketSchema);","","router.get('/', async (req, res) => {","  try {","    let tickets = await Ticket.find();","    return res.send(tickets);","  } catch (error) {","    console.log(error);","    return res.sendStatus(500);","  }","});","","router.post('/', async (req, res) => {","  const ticket = new Ticket({","    name: req.body.name,","    problem: req.body.problem","  });","  try {","    await ticket.save();","    return res.send(ticket);","  } catch (error) {","    console.log(error);","    return res.sendStatus(500);","  }","});","","router.delete('/:id', async (req, res) => {","  try {","    await Ticket.deleteOne({","      _id: req.params.id","    });","    return res.sendStatus(200);","  } catch (error) {","    console.log(error);","    return res.sendStatus(500);","  }","});","","module.exports = router;"],"id":1}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":10},"action":"insert","lines":["port: 3000"],"id":2}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":10},"action":"remove","lines":["port: 3000"],"id":3}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":3,"column":0},"end":{"row":3,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":3,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1575512560271,"hash":"2c5c54d917390cfc2873489a1927133a4b5dd8b7"}